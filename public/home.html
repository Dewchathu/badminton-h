<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Firebase Data Display</title>

    <!-- Add dark mode styles -->
    <style>
      body {
        background-color: #2c3e50; 
        color: #ecf0f1;
        font-family: 'Arial', sans-serif;
      }

      h1 {
        color: #3498db; 
      }

      .timestamp {
        color: #ecf0f1;
        padding: 20px;
        margin-bottom: 10px;
        border: #ecf0f1 solid 1px;
        border-radius: 10px;
        max-width: 300px; 
        margin-left: auto;
        margin-right: auto;
      }
    </style>
  </head>
  <body>
    <h1>Timestamp from Units:</h1>
    <div id="timestamp-display-1" class="timestamp"></div>
    <div id="timestamp-display-2" class="timestamp"></div>
    <div id="timestamp-display-3" class="timestamp"></div>
    <div id="timestamp-display-4" class="timestamp"></div>
    <div id="timestamp-display-5" class="timestamp"></div>
    <div id="timestamp-display-6" class="timestamp"></div>
    <div id="timestamp-display-7" class="timestamp"></div>

    <script type="module">

      // Import the functions you need from the SDKs
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
      import {
        getDatabase,
        ref,
        onValue,
      } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-database.js";

       // Firebase configuration
       const firebaseConfig = {
        apiKey: "AIzaSyD0wYYVfaBvSaktiXMQ0tCc2vWdxmAS2k8",
        authDomain: "badminton-h.firebaseapp.com",
        databaseURL:
          "https://badminton-h-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "badminton-h",
        storageBucket: "badminton-h.appspot.com",
        messagingSenderId: "370589389980",
        appId: "1:370589389980:web:de228c53e880e2f2510959",
        measurementId: "G-KKR7HHJ099",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const database = getDatabase(app);

      // Reference to the timestamp in the database
      const timestampRef1 = ref(database, "ir_test/unit1/timestamp");
      const timestampRef2 = ref(database, "ir_test/unit2/timestamp");
      const timestampRef3 = ref(database, "ir_test/unit3/timestamp");
      const timestampRef4 = ref(database, "ir_test/unit4/timestamp");
      const timestampRef5 = ref(database, "ir_test/unit5/timestamp");
      const timestampRef6 = ref(database, "ir_test/unit6/timestamp");
      const timestampRef7 = ref(database, "ir_test/unit7/timestamp");
      
      

      // Listen for changes in the timestamp value
      onValue(timestampRef1, (snapshot) => {
        const timestamp = snapshot.val();
        document.getElementById("timestamp-display-1").innerHTML = "Timestamp Unit-1: " + timestamp;
      });

      onValue(timestampRef2, (snapshot) => {
        const timestamp = snapshot.val();
        document.getElementById("timestamp-display-2").innerHTML = "Timestamp Unit-2: " + timestamp;
      });

      onValue(timestampRef3, (snapshot) => {
        const timestamp = snapshot.val();
        document.getElementById("timestamp-display-3").innerHTML = "Timestamp Unit-3: " + timestamp;
      });

      onValue(timestampRef4, (snapshot) => {
        const timestamp = snapshot.val();
        document.getElementById("timestamp-display-4").innerHTML = "Timestamp Unit-4: " + timestamp;
      });

      onValue(timestampRef5, (snapshot) => {
        const timestamp = snapshot.val();
        document.getElementById("timestamp-display-5").innerHTML = "Timestamp Unit-5: " + timestamp;
      });

      onValue(timestampRef6, (snapshot) => {
        const timestamp = snapshot.val();
        document.getElementById("timestamp-display-6").innerHTML = "Timestamp Unit-6: " + timestamp;
      });

      onValue(timestampRef7, (snapshot) => {
        const timestamp = snapshot.val();
        document.getElementById("timestamp-display-7").innerHTML = "Timestamp Unit-7: " + timestamp;
      });
    </script>
  </body>
</html>
